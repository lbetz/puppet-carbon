[common]
user = "<%= @user %>"
graph-prefix = "carbon.agents.{host}"
metric-endpoint = "local"
max-cpu = <%= @max_cpu %>
metric-interval = "1m0s"

[whisper]
data-dir = "<%= @data_dir %>/whisper/"
schemas-file = "<%= @config_dir %>/storage-schemas.conf"
aggregation-file = "<%= @config_dir %>/storage-aggregation.conf"
quotas-file = ""
workers = <%= @workers %>
max-updates-per-second = <%= @max_updates_per_second %>
sparse-create = <%= @sparse_create %>
physical-size-factor = <%= @physical_size_factor %>
flock = <%= @flock %>
compressed = false
enabled = true
hash-filenames = <%= @hash_filenames %>
remove-empty-file = <%= @remove_empty_file %>
online-migration = false
online-migration-rate = 5
online-migration-global-scope = ""

[cache]
max-size = <%= @max_size %>
write-strategy = "<%= @write_strategy %>"

[udp]
listen = ":2003"
enabled = false
buffer-size = 0

[tcp]
listen = "<%= @tcp_bind_address %>:<%= @tcp_bind_port %>"
enabled = <%= @tcp_enable %>
buffer-size = <%= @tcp_buffer_size %>
compression = ""

[pickle]
listen = ":2004"
max-message-size = 67108864
enabled = false
buffer-size = 0

[carbonlink]
listen = "127.0.0.1:7002"
enabled = false
read-timeout = "30s"

[grpc]
listen = "127.0.0.1:7003"
enabled = false

[tags]
enabled = false
tagdb-url = "http://127.0.0.1:8000"
tagdb-chunk-size = 32
tagdb-update-interval = 100
local-dir = "/var/lib/graphite/tagging/"
tagdb-timeout = "1s"

[carbonserver]
listen = "<%= @server_bind_address %>:<%= @server_bind_port %>"
enabled = <%= @server_enable %>
query-cache-enabled = <%= @server_query_cache %>
streaming-query-cache-enabled = <%= @server_streaming_query_cache %>
query-cache-size-mb = <%= @server_query_cache_size %>
find-cache-enabled = true
buckets = <%= @server_buckets %>
max-globs = <%= @server_max_globs %>
fail-on-max-globs = false
empty-result-ok = false
do-not-log-404s = false
metrics-as-counters = false
trigram-index = true
internal-stats-dir = ""
cache-scan = false
max-metrics-globbed = 10000000
max-metrics-rendered = <%= @server_max_metrics_rendered %>
trie-index = false
concurrent-index = false
realtime-index = 0
file-list-cache = ""
file-list-cache-version = 1
max-creates-per-second = <%= @server_max_creates_per_second %>
no-service-when-index-is-not-ready = false
max-inflight-requests = 0
render-trace-logging-enabled = false

[carbonserver.grpc]
listen = ""
enabled = false
read-timeout = "1m0s"
idle-timeout = "1m0s"
write-timeout = "1m0s"
scan-frequency = "5m0s"
quota-usage-report-frequency = "1m0s"

[dump]
enabled = false
path = "/var/lib/graphite/dump/"
restore-per-second = 0

[pprof]
listen = "127.0.0.1:7007"
enabled = false

[[logging]]
logger = ""
file = "<%= @log_dir %>/go-carbon.log"
level = "<%= @log_level %>"
encoding = "mixed"
encoding-time = "iso8601"
encoding-duration = "seconds"
sample-tick = ""
sample-initial = 0
sample-thereafter = 0

[prometheus]
enabled = false
endpoint = "/metrics"
[prometheus.labels]

[tracing]
enabled = false
jaegerEndpoint = ""
stdout = false
send_timeout = "10s"
